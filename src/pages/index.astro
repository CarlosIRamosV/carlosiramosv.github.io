---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";

// Obtener las últimas entradas del blog y proyectos
const allPosts = await getCollection("blog");
const allProjects = await getCollection("projects");

// Ordenar y limitar a los más recientes
const latestPosts = allPosts
  .sort(
    (a, b) =>
      new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime(),
  )
  .slice(0, 3);

const featuredProjects = allProjects
  .filter((project) => project.data.featured)
  .slice(0, 3);

const technologies = [
  {
    name: "Backend",
    items: ["Python", "Rust", "Java"],
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" />`,
  },
  {
    name: "Frontend",
    items: ["Astro", "React", "Next.js"],
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />`,
  },
  {
    name: "DevOps",
    items: ["Docker", "Git", "Linux"],
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3" />`,
  },
];
---

<Layout title="Carlos Ramos - Desarrollo y Ciberseguridad">
  <!-- Hero Section -->
  <section class="min-h-[calc(100vh-6rem)] flex items-center">
    <div class="space-y-8">
      <div class="space-y-4">
        <h1 class="text-4xl md:text-6xl font-bold leading-tight">
          <span
            class="bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent"
          >
            Carlos Ramos
          </span>
        </h1>
        <p
          class="text-xl md:text-2xl text-gray-600 dark:text-gray-400 max-w-2xl"
        >
          Ingeniero en Sistemas con especialidad en Ciberseguridad, enfocado en
          crear soluciones seguras y escalables.
        </p>
      </div>
      <div class="flex flex-wrap gap-4">
        <a
          href="/about"
          class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300"
        >
          Conóceme más
        </a>
        <a
          href="/CV-CarlosRamos.pdf"
          download
          class="px-6 py-3 border border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-300"
        >
          Descargar CV
        </a>
      </div>
    </div>
  </section>

  <!-- Skills & Technologies Showcase -->
  <section class="py-20 bg-gray-50 dark:bg-gray-900/30">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-4">Áreas de Especialización</h2>
        <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
          Experiencia diversa en desarrollo, seguridad y administración de
          sistemas
        </p>
      </div>

      <div class="relative overflow-hidden">
        <!-- Carrusel Container -->
        <div class="carousel-container overflow-hidden">
          <div
            class="carousel-track flex transition-transform duration-500 gap-8"
          >
            <!-- Desarrollo de Software -->
            <div
              class="carousel-item flex-none w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1rem)]"
            >
              <div
                class="group h-full p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden border border-transparent hover:border-blue-500/20"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-r from-blue-600/10 to-cyan-600/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 ease-out origin-left"
                >
                </div>
                <div class="relative z-10">
                  <div class="flex items-center gap-4 mb-6">
                    <div
                      class="p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-blue-600 dark:text-blue-400"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                      </svg>
                    </div>
                    <h3
                      class="text-xl font-semibold group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300"
                    >
                      Desarrollo de Software
                    </h3>
                  </div>
                  <p
                    class="text-gray-600 dark:text-gray-400 mb-6 group-hover:text-gray-900 dark:group-hover:text-gray-300"
                  >
                    Especializado en desarrollo de soluciones robustas y
                    eficientes, con enfoque en rendimiento y seguridad.
                  </p>
                  <div class="space-y-4">
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium"
                        >Java</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Aplicaciones empresariales</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-sm font-medium"
                        >Python</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Automatización y análisis</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-sm font-medium"
                        >Rust</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Sistemas de alto rendimiento</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Bases de Datos -->
            <div
              class="carousel-item flex-none w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1rem)]"
            >
              <div
                class="group h-full p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden border border-transparent hover:border-green-500/20"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-r from-green-600/10 to-emerald-600/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 ease-out origin-left"
                >
                </div>
                <div class="relative z-10">
                  <div class="flex items-center gap-4 mb-6">
                    <div
                      class="p-3 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-green-600 dark:text-green-400"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"
                        ></path>
                      </svg>
                    </div>
                    <h3
                      class="text-xl font-semibold group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors duration-300"
                    >
                      Gestión de Datos
                    </h3>
                  </div>
                  <p
                    class="text-gray-600 dark:text-gray-400 mb-6 group-hover:text-gray-900 dark:group-hover:text-gray-300"
                  >
                    Diseño e implementación de soluciones de almacenamiento y
                    procesamiento de datos escalables.
                  </p>
                  <div class="space-y-4">
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium"
                        >PostgreSQL</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Bases relacionales avanzadas</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-sm font-medium"
                        >Redis</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Cache y tiempo real</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium"
                        >MongoDB</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Datos no estructurados</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Ciberseguridad -->
            <div
              class="carousel-item flex-none w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1rem)]"
            >
              <div
                class="group h-full p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden border border-transparent hover:border-purple-500/20"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-r from-purple-600/10 to-indigo-600/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 ease-out origin-left"
                >
                </div>
                <div class="relative z-10">
                  <div class="flex items-center gap-4 mb-6">
                    <div
                      class="p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-purple-600 dark:text-purple-400"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                        ></path>
                      </svg>
                    </div>
                    <h3
                      class="text-xl font-semibold group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-300"
                    >
                      Ciberseguridad
                    </h3>
                  </div>
                  <p
                    class="text-gray-600 dark:text-gray-400 mb-6 group-hover:text-gray-900 dark:group-hover:text-gray-300"
                  >
                    Protección y aseguramiento de sistemas e infraestructura
                    digital.
                  </p>
                  <div class="space-y-4">
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium"
                        >Pentesting</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Auditoría de seguridad basicas</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-cyan-100 dark:bg-cyan-900/30 text-cyan-700 dark:text-cyan-300 rounded-full text-sm font-medium"
                        >Redes</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Seguridad en redes</span
                      >
                    </div>

                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium"
                        >Forense</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Análisis e investigación</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- DevOps & Cloud -->
            <div
              class="carousel-item flex-none w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1rem)]"
            >
              <div
                class="group h-full p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden border border-transparent hover:border-teal-500/20"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-r from-teal-600/10 to-cyan-600/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 ease-out origin-left"
                >
                </div>
                <div class="relative z-10">
                  <div class="flex items-center gap-4 mb-6">
                    <div
                      class="p-3 bg-teal-100 dark:bg-teal-900/30 rounded-lg group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-teal-600 dark:text-teal-400"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
                        ></path>
                      </svg>
                    </div>
                    <h3
                      class="text-xl font-semibold group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors duration-300"
                    >
                      DevOps & Cloud
                    </h3>
                  </div>
                  <p
                    class="text-gray-600 dark:text-gray-400 mb-6 group-hover:text-gray-900 dark:group-hover:text-gray-300"
                  >
                    Automatización y gestión de infraestructura en la nube.
                  </p>
                  <div class="space-y-4">
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium"
                        >Docker</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Contenedores y orquestación</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-sm font-medium"
                        >AWS</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Cloud Computing</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-sm font-medium"
                        >CI/CD</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Integración continua</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Desarrollo Web -->
            <div
              class="carousel-item flex-none w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1rem)]"
            >
              <div
                class="group h-full p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden border border-transparent hover:border-yellow-500/20"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-r from-yellow-600/10 to-orange-600/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 ease-out origin-left"
                >
                </div>
                <div class="relative z-10">
                  <div class="flex items-center gap-4 mb-6">
                    <div
                      class="p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-yellow-600 dark:text-yellow-400"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                        ></path>
                      </svg>
                    </div>
                    <h3
                      class="text-xl font-semibold group-hover:text-yellow-600 dark:group-hover:text-yellow-400 transition-colors duration-300"
                    >
                      Desarrollo Web
                    </h3>
                  </div>
                  <p
                    class="text-gray-600 dark:text-gray-400 mb-6 group-hover:text-gray-900 dark:group-hover:text-gray-300"
                  >
                    Creación de aplicaciones web modernas y responsivas.
                  </p>
                  <div class="space-y-4">
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium"
                        >React</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Interfaces dinámicas</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium"
                        >Astro</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Sitios estáticos</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300 rounded-full text-sm font-medium"
                        >Tailwind</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Diseño moderno</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Sistemas y Redes -->
            <div
              class="carousel-item flex-none w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1rem)]"
            >
              <div
                class="group h-full p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden border border-transparent hover:border-indigo-500/20"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-r from-indigo-600/10 to-blue-600/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 ease-out origin-left"
                >
                </div>
                <div class="relative z-10">
                  <div class="flex items-center gap-4 mb-6">
                    <div
                      class="p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-indigo-600 dark:text-indigo-400"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"
                        ></path>
                      </svg>
                    </div>
                    <h3
                      class="text-xl font-semibold group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300"
                    >
                      Sistemas y Redes
                    </h3>
                  </div>
                  <p
                    class="text-gray-600 dark:text-gray-400 mb-6 group-hover:text-gray-900 dark:group-hover:text-gray-300"
                  >
                    Administración de sistemas, redes y soporte técnico
                    especializado.
                  </p>
                  <div class="space-y-4">
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-sm font-medium"
                        >Linux</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Administración de sistemas</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-sm font-medium"
                        >Nginx</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Configuración de servidores</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium"
                        >TCP/IP</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Redes y conectividad</span
                      >
                    </div>
                    <div class="flex items-center gap-3">
                      <span
                        class="px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium"
                        >Soporte</span
                      >
                      <span class="text-sm text-gray-600 dark:text-gray-400"
                        >Mantenimiento de equipos</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Controles del carrusel -->
        <button
          class="carousel-control prev absolute left-0 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-300 focus:outline-none"
        >
          <svg
            class="w-6 h-6 text-gray-600 dark:text-gray-400"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>

        <button
          class="carousel-control next absolute right-0 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-300 focus:outline-none"
        >
          <svg
            class="w-6 h-6 text-gray-600 dark:text-gray-400"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"></path>
          </svg>
        </button>

        <!-- Indicadores de página -->
        <div class="flex justify-center gap-2 mt-8">
          <button class="w-3 h-3 rounded-full bg-blue-600 dark:bg-blue-400"
          ></button>
          <button class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600"
          ></button>
          <button class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600"
          ></button>
        </div>
      </div>
    </div>
  </section>

  <!-- Latest Projects Section -->
  <section class="py-20">
    <div class="flex justify-between items-center mb-12">
      <h2 class="text-3xl font-bold">Proyectos Destacados</h2>
      <a
        href="/projects"
        class="text-blue-600 dark:text-blue-400 hover:underline"
      >
        Ver todos →
      </a>
    </div>
    <div class="grid md:grid-cols-3 gap-8">
      {
        featuredProjects.map((project) => (
          <article class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300">
            {project.data.image && (
              <img
                src={project.data.image}
                alt={project.data.title}
                class="w-full h-48 object-cover"
              />
            )}
            <div class="p-6">
              <h3 class="text-xl font-semibold mb-2">{project.data.title}</h3>
              <p class="text-gray-600 dark:text-gray-400 mb-4">
                {project.data.description}
              </p>
              <div class="flex flex-wrap gap-2">
                {project.data.technologies.map((tech) => (
                  <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full text-sm">
                    {tech}
                  </span>
                ))}
              </div>
            </div>
          </article>
        ))
      }
    </div>
  </section>

  <!-- Latest Blog Posts Section -->
  <section class="py-20">
    <div class="flex justify-between items-center mb-12">
      <h2 class="text-3xl font-bold">Últimas Publicaciones</h2>
      <a href="/blog" class="text-blue-600 dark:text-blue-400 hover:underline">
        Ver todas →
      </a>
    </div>
    <div class="grid gap-8">
      {
        latestPosts.map((post) => (
          <article class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300">
            <h3 class="text-xl font-semibold mb-2">
              <a
                href={`/blog/${post.slug}`}
                class="hover:text-blue-600 dark:hover:text-blue-400"
              >
                {post.data.title}
              </a>
            </h3>
            <p class="text-gray-600 dark:text-gray-400 mb-4">
              {post.data.description}
            </p>
            <div class="flex items-center text-sm text-gray-500 dark:text-gray-400">
              <time datetime={post.data.pubDate.toISOString()}>
                {new Date(post.data.pubDate).toLocaleDateString("es-ES", {
                  year: "numeric",
                  month: "long",
                  day: "numeric",
                })}
              </time>
              {post.data.author && (
                <>
                  <span class="mx-2">•</span>
                  <span>{post.data.author}</span>
                </>
              )}
            </div>
          </article>
        ))
      }
    </div>
  </section>
</Layout>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const track = document.querySelector(".carousel-track");
    const items = document.querySelectorAll(".carousel-item");
    const prevButton = document.querySelector(".carousel-control.prev");
    const nextButton = document.querySelector(".carousel-control.next");
    const indicators = document.querySelectorAll(".flex.justify-center button");

    // Clonar elementos para el carrusel infinito
    const firstClone = items[0].cloneNode(true);
    const lastClone = items[items.length - 1].cloneNode(true);

    track.appendChild(firstClone);
    track.insertBefore(lastClone, items[0]);

    let currentIndex = 1; // Comenzar en el primer elemento real
    let isTransitioning = false;
    const transitionTime = 500; // 500ms
    const autoplayInterval = 5000; // 5 segundos
    let autoplayTimer;

    const itemWidth = items[0].offsetWidth;
    const itemsPerView =
      window.innerWidth >= 1024 ? 3 : window.innerWidth >= 768 ? 2 : 1;

    // Posicionar inicialmente en el primer elemento real
    track.style.transform = `translateX(-${currentIndex * itemWidth}px)`;

    function updateCarousel(withTransition = true) {
      if (withTransition) {
        track.style.transition = `transform ${transitionTime}ms ease-in-out`;
      } else {
        track.style.transition = "none";
      }

      track.style.transform = `translateX(-${currentIndex * itemWidth}px)`;

      // Actualizar indicadores
      const realIndex = (currentIndex - 1 + items.length) % items.length;
      indicators.forEach((indicator, index) => {
        indicator.classList.toggle("bg-blue-600", index === realIndex);
        indicator.classList.toggle("bg-gray-300", index !== realIndex);
      });
    }

    function handleTransitionEnd() {
      isTransitioning = false;

      // Si llegamos al clon del último
      if (currentIndex === 0) {
        track.style.transition = "none";
        currentIndex = items.length;
        track.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
      }
      // Si llegamos al clon del primero
      if (currentIndex === items.length + 1) {
        track.style.transition = "none";
        currentIndex = 1;
        track.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
      }
    }

    function startAutoplay() {
      stopAutoplay();
      autoplayTimer = setInterval(() => {
        if (!isTransitioning) {
          currentIndex++;
          updateCarousel();
        }
      }, autoplayInterval);
    }

    function stopAutoplay() {
      if (autoplayTimer) {
        clearInterval(autoplayTimer);
      }
    }

    track.addEventListener("transitionend", handleTransitionEnd);

    prevButton.addEventListener("click", () => {
      if (isTransitioning) return;
      isTransitioning = true;
      currentIndex--;
      updateCarousel();
      stopAutoplay();
      startAutoplay();
    });

    nextButton.addEventListener("click", () => {
      if (isTransitioning) return;
      isTransitioning = true;
      currentIndex++;
      updateCarousel();
      stopAutoplay();
      startAutoplay();
    });

    // Actualizar en hover
    track.addEventListener("mouseenter", stopAutoplay);
    track.addEventListener("mouseleave", startAutoplay);

    // Manejo de swipe
    let touchStartX = 0;
    let touchEndX = 0;

    track.addEventListener("touchstart", (e) => {
      touchStartX = e.changedTouches[0].screenX;
      stopAutoplay();
    });

    track.addEventListener("touchend", (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
      startAutoplay();
    });

    function handleSwipe() {
      const swipeThreshold = 50;
      const diff = touchStartX - touchEndX;

      if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
          currentIndex++;
        } else {
          currentIndex--;
        }
        updateCarousel();
      }
    }

    // Iniciar autoplay
    startAutoplay();
  });
</script>
